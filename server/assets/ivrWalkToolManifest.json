{
    "tools": [
        {
            "type": "function",
            "name": "end-call",
            "description": "end this call now",
            "parameters": {
                "type": "object",
                "properties": {
                    "conversationSummary": {
                        "type": "string",
                        "description": "A summary of the call"
                    }
                },
                "required": [
                    "conversationSummary"
                ]
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "live-agent-handoff",
            "description": "Transfers the call to a human agent",
            "parameters": {
                "type": "object",
                "properties": {
                    "summary": {
                        "type": "string",
                        "description": "As summary of the call"
                    }
                },
                "required": [
                    "summary"
                ]
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "send-dtmf",
            "description": "This sends DTMF tones to the call",
            "parameters": {
                "type": "object",
                "properties": {
                    "dtmfDigit": {
                        "type": "string",
                        "description": "The DTMF digit value to send"
                    }
                },
                "required": [
                    "dtmfDigit"
                ]
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "send-sms",
            "description": "This sends an SMS message to the number provided",
            "parameters": {
                "type": "object",
                "properties": {
                    "to": {
                        "type": "string",
                        "description": "The number to send the SMS to. This HAS to be in +1234567890 format"
                    },
                    "message": {
                        "type": "string",
                        "description": "The message to be sent"
                    }
                },
                "required": [
                    "to",
                    "message"
                ]
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "switch-language",
            "description": "Switches the TTS and/or transcription language for the conversation. At least one of ttsLanguage or transcriptionLanguage must be provided.",
            "parameters": {
                "type": "object",
                "properties": {
                    "ttsLanguage": {
                        "type": "string",
                        "description": "Language code for text-to-speech conversion (e.g., 'en-GB', 'en-US')"
                    },
                    "transcriptionLanguage": {
                        "type": "string",
                        "description": "Language code for speech-to-text transcription (e.g., 'en-GB', 'en-US')"
                    }
                },
                "required": [],
                "additionalProperties": false
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "change-context",
            "description": "Changes the conversation context to a different prompt template while preserving conversation continuity through a handoff summary. Use this when the conversation needs to switch to a different specialized context (e.g., from intent detection to account balance, from account balance to payment processing).",
            "parameters": {
                "type": "object",
                "properties": {
                    "newContext": {
                        "type": "string",
                        "description": "The name of the new context to switch to. Available contexts: intent, account_balance, classification, concession, confirm_concession, make_payment, payment_reversal, pre_auth, account_selector",
                        "enum": ["intent", "account_balance", "classification", "concession", "confirm_concession", "make_payment", "payment_reversal", "pre_auth", "account_selector"]
                    },
                    "handoffSummary": {
                        "type": "string",
                        "description": "A brief summary of the conversation so far and what the customer needs. This will be prepended to the new context to maintain conversation continuity. Include relevant details like customer intent, account information discovered, and next steps needed."
                    }
                },
                "required": [
                    "newContext",
                    "handoffSummary"
                ],
                "additionalProperties": false
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "write_legs",
            "description": "Documents completed IVR exploration legs with path details, menu transcripts, and next targets for persistent cross-call state management",
            "parameters": {
                "type": "object",
                "properties": {
                    "legNumber": {
                        "type": "number",
                        "description": "Sequential number identifying this exploration leg"
                    },
                    "path": {
                        "type": "string",
                        "description": "DTMF sequence taken for this leg (e.g., '1-2-3')"
                    },
                    "menuSequence": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "menuId": {
                                    "type": "string",
                                    "description": "Unique identifier for this menu"
                                },
                                "audioTranscript": {
                                    "type": "string",
                                    "description": "Full text of the spoken menu prompt"
                                },
                                "availableOptions": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    },
                                    "description": "List of available menu options with descriptions"
                                }
                            },
                            "required": ["menuId", "audioTranscript", "availableOptions"]
                        },
                        "description": "Complete sequence of menus encountered during this exploration"
                    },
                    "finalOutcome": {
                        "type": "string",
                        "description": "Final result of this exploration leg (queue, agent connection, terminal message)"
                    },
                    "status": {
                        "type": "string",
                        "enum": ["COMPLETED", "IN_PROGRESS", "FAILED"],
                        "description": "Current status of this exploration leg"
                    },
                    "nextTarget": {
                        "type": "string",
                        "description": "Next path to explore based on systematic traversal algorithm"
                    }
                },
                "required": [
                    "legNumber",
                    "path",
                    "menuSequence",
                    "finalOutcome",
                    "status"
                ],
                "additionalProperties": false
            },
            "strict": false
        },
        {
            "type": "function",
            "name": "read_legs",
            "description": "Loads previously documented IVR exploration data to identify completed paths and determine next exploration targets",
            "parameters": {
                "type": "object",
                "properties": {
                    "filterStatus": {
                        "type": "string",
                        "enum": ["COMPLETED", "IN_PROGRESS", "FAILED", "ALL"],
                        "description": "Filter results by exploration status (defaults to ALL if not specified)"
                    },
                    "targetPath": {
                        "type": "string",
                        "description": "Optional specific path to look up (e.g., '1-2-3')"
                    }
                },
                "required": [],
                "additionalProperties": false
            },
            "strict": false
        }
    ]
}